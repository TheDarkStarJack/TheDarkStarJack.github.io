<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="zh-CN" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="oceanbase 社区版源码编译安装" />
<meta property="og:locale" content="zh_CN" />
<meta name="description" content="前言" />
<meta property="og:description" content="前言" />
<link rel="canonical" href="https://thedarkstarjack.github.io/posts/oceanbase-%E7%A4%BE%E5%8C%BA%E7%89%88%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/" />
<meta property="og:url" content="https://thedarkstarjack.github.io/posts/oceanbase-%E7%A4%BE%E5%8C%BA%E7%89%88%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/" />
<meta property="og:site_name" content="DarkStar" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-03-24T12:58:57+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="oceanbase 社区版源码编译安装" />
<meta name="twitter:site" content="@TheDarkStar007" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-03-24T12:58:57+08:00","datePublished":"2025-03-24T12:58:57+08:00","description":"前言","headline":"oceanbase 社区版源码编译安装","mainEntityOfPage":{"@type":"WebPage","@id":"https://thedarkstarjack.github.io/posts/oceanbase-%E7%A4%BE%E5%8C%BA%E7%89%88%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/"},"url":"https://thedarkstarjack.github.io/posts/oceanbase-%E7%A4%BE%E5%8C%BA%E7%89%88%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/"}</script>
<!-- End Jekyll SEO tag -->


  <title>oceanbase 社区版源码编译安装 | DarkStar
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="DarkStar">
<meta name="application-name" content="DarkStar">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/zh.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/images/favicons/kenan01.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">DarkStar</a>
    <p class="site-subtitle fst-italic mb-0">DBA and chef</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>首页</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>分类</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>标签</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>归档</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>关于</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/TheDarkStarJack"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/TheDarkStar007"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['2403220952','qq.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">首页</a>
            </span>

          
        
          
        
          
            
              <span>oceanbase 社区版源码编译安装</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      文章
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="搜索..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">取消</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>oceanbase 社区版源码编译安装</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        发表于
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1742792337"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2025/03/24
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          作者

          <em>
            
              <a href="https://twitter.com/username">TheDarkStarJack</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="4359 字"
>
  <em>24 分钟</em>阅读</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">oceanbase 社区版源码编译安装</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">文章内容</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">oceanbase 社区版源码编译安装</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <h2 id="前言"><span class="me-2">前言</span><a href="#前言" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>尝试学习下OceanBase社区版的源码编译安装，记录下过程</p>

<p>社区版仅支持 MySQL 语法，也不支持 clog 压缩</p>

<p><a href="https://www.oceanbase.com/docs/community-developer-advance-10000000000627375">参考文档</a></p>

<h2 id="准备工作"><span class="me-2">准备工作</span><a href="#准备工作" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p><a href="https://www.oceanbase.com/docs/common-oceanbase-database-cn-1000000002012644">企业版和社区版的区别</a>
<a href="https://www.oceanbase.com/docs/common-oceanbase-database-cn-1000000002013498">软硬件要求</a></p>

<h3 id="系统环境"><span class="me-2">系统环境</span><a href="#系统环境" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>尝试了下 centos8 和 fedora33 都有点问题，最后尝试下 <a href="https://openanolis.cn/download">AnoliOS8.9</a> : 8c8g</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre>┌─[✗]─[wxj@darkstar-ob]─[~]
└──╼ <span class="nv">$ </span><span class="nb">uname</span> <span class="nt">-a</span>
Linux darkstar-ob 5.10.134-16.2.an8.x86_64 <span class="c">#1 SMP Mon Mar 4 16:14:16 CST 2024 x86_64 x86_64 x86_64 GNU/Linux</span>
┌─[wxj@darkstar-ob]─[~]
└──╼ <span class="nv">$ </span><span class="nb">cat</span> /etc/os-release
<span class="nv">NAME</span><span class="o">=</span><span class="s2">"Anolis OS"</span>
<span class="nv">VERSION</span><span class="o">=</span><span class="s2">"8.9"</span>
<span class="nv">ID</span><span class="o">=</span><span class="s2">"anolis"</span>
<span class="nv">ID_LIKE</span><span class="o">=</span><span class="s2">"rhel fedora centos"</span>
<span class="nv">VERSION_ID</span><span class="o">=</span><span class="s2">"8.9"</span>
<span class="nv">PLATFORM_ID</span><span class="o">=</span><span class="s2">"platform:an8"</span>
<span class="nv">PRETTY_NAME</span><span class="o">=</span><span class="s2">"Anolis OS 8.9"</span>
<span class="nv">ANSI_COLOR</span><span class="o">=</span><span class="s2">"0;31"</span>
<span class="nv">HOME_URL</span><span class="o">=</span><span class="s2">"https://openanolis.cn/"</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>
    <p>oceanbase 源码选择的最新的分支 https://github.com/oceanbase/oceanbase</p>
  </li>
  <li>
    <p>安装依赖</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>
<span class="nb">sudo </span>dnf <span class="nb">install</span> <span class="nt">-y</span>  git wget rpm<span class="k">*</span> cpio make glibc-devel glibc-headers binutils
</pre></td></tr></tbody></table></code></div></div>

<h2 id="源码编译"><span class="me-2">源码编译</span><a href="#源码编译" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ol>
  <li>下载源码</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>git clone https://github.com/oceanbase/oceanbase.git
</pre></td></tr></tbody></table></code></div></div>

<ol>
  <li>编译</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
</pre></td><td class="rouge-code"><pre>┌─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="nv">$ </span>bash build.sh debug <span class="nt">--init</span> <span class="nt">--make</span> <span class="nt">-j7</span>
build.sh debug <span class="nt">--init</span> <span class="nt">--make</span> <span class="nt">-j7</span>
<span class="o">[</span>dep_create.sh] <span class="o">[</span>NOTICE] <span class="s1">'Anolis OS 8.9 (x86_64)'</span> is compatible with CentOS 8, use el8 dependencies list
<span class="o">[</span>dep_create.sh] oceanbase.el8.x86_64.deps has been not initialized, due to /home/wxj/oceanbase/deps/3rd/90249e88dcca473f3d6eccbf5b0a9cf1 not exists
<span class="o">[</span>dep_create.sh] disable share dep cache due to <span class="nb">env </span>DEP_CACHE_DIR not <span class="nb">set</span>
<span class="o">[</span>dep_create.sh] check dependencies profile <span class="k">for </span>oceanbase.el8.x86_64.deps... FOUND
<span class="o">[</span>dep_create.sh] check repository address <span class="k">in </span>profile...
<span class="o">[</span>dep_create.sh] target: default, repo: http://mirrors.aliyun.com/oceanbase/development-kit/el/8/x86_64/
<span class="o">[</span>dep_create.sh] target: community, repo: http://mirrors.aliyun.com/oceanbase/community/stable/el/8/x86_64/
<span class="o">[</span>dep_create.sh] start to download dependencies...
<span class="o">[</span>dep_create.sh] downloading package &lt;obdevtools-binutils-2.30-12022100413.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;obdevtools-binutils-2.30-12022100413.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;obdevtools-bison-2.4.1-12022100413.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;obdevtools-bison-2.4.1-12022100413.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;obdevtools-ccache-3.7.12-12022100417.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;obdevtools-ccache-3.7.12-12022100417.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;obdevtools-cmake-3.30.3-52024111819.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;obdevtools-cmake-3.30.3-52024111819.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;obdevtools-flex-2.5.35-12022100417.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;obdevtools-flex-2.5.35-12022100417.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;obdevtools-gcc9-9.3.0-52022092914.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;obdevtools-gcc9-9.3.0-52022092914.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;obdevtools-llvm-11.0.1-312022092921.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;obdevtools-llvm-11.0.1-312022092921.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-gtest-1.8.0-132022101316.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-gtest-1.8.0-132022101316.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-isa-l-static-2.22.0-22022092915.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-isa-l-static-2.22.0-22022092915.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-libcurl-static-8.2.1-172023092015.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-libcurl-static-8.2.1-172023092015.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-libunwind-static-1.6.2-222022100410.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-libunwind-static-1.6.2-222022100410.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-mariadb-connector-c-3.1.12-12022100422.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-mariadb-connector-c-3.1.12-12022100422.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-libaio-0.3.112-12022092915.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-libaio-0.3.112-12022092915.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-relaxed-rapidjson-1.0.0-52023011719.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-relaxed-rapidjson-1.0.0-52023011719.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-openssl-static-1.1.1u-22023100710.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-openssl-static-1.1.1u-22023100710.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-libxml2-2.10.4-42023082915.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-libxml2-2.10.4-42023082915.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-mxml-2.12.0-12022090616.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-mxml-2.12.0-12022090616.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-apr-1.6.5-32022090616.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-apr-1.6.5-32022090616.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-xz-5.2.2-42022090615.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-xz-5.2.2-42022090615.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-lua-5.4.6-22023082916.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-lua-5.4.6-22023082916.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-oss-c-sdk-3.11.2-42024100915.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-oss-c-sdk-3.11.2-42024100915.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-zlib-static-1.2.13-82024102414.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-zlib-static-1.2.13-82024102414.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-ncurses-static-6.2-72022100815.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-ncurses-static-6.2-72022100815.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-boost-1.74.0-22022110914.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-boost-1.74.0-22022110914.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-abseil-cpp-20211102.0-62024122014.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-abseil-cpp-20211102.0-62024122014.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-s2geometry-0.10.0-122024122617.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-s2geometry-0.10.0-122024122617.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-icu-69.1-72022112416.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-icu-69.1-72022112416.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-cos-c-sdk-5.0.21-202024080916.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-cos-c-sdk-5.0.21-202024080916.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-s3-cpp-sdk-1.11.156-102023122011.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-s3-cpp-sdk-1.11.156-102023122011.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-protobuf-c-1.4.1-100000062023102016.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-protobuf-c-1.4.1-100000062023102016.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-roaringbitmap-croaring-3.0.0-42024042816.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-roaringbitmap-croaring-3.0.0-42024042816.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-apache-arrow-9.0.0-172024052218.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-apache-arrow-9.0.0-172024052218.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-hyperscan-5.4.2-242024090219.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-hyperscan-5.4.2-242024090219.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-vsag-1.0.0-552025030318.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-vsag-1.0.0-552025030318.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-apache-orc-1.8.8-32025011711.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-apache-orc-1.8.8-32025011711.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-cloud-qpl-1.1.0-272023061419.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-cloud-qpl-1.1.0-272023061419.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-fast-float-6.1.3-42024112122.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-fast-float-6.1.3-42024112122.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-hdfs-sdk-3.3.6-112024123116.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-hdfs-sdk-3.3.6-112024123116.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;ob-deploy-3.0.1-1.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;ob-deploy-3.0.1-1.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;obclient-2.2.2-1.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;obclient-2.2.2-1.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;libobclient-2.2.2-3.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;libobclient-2.2.2-3.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-oblogmsg-1.1-52024052811.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-oblogmsg-1.1-52024052811.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;devdeps-rocksdb-6.22.1-32024123015.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;devdeps-rocksdb-6.22.1-32024123015.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;obstack-2.0.4-172024070513.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;obstack-2.0.4-172024070513.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>dep_create.sh] downloading package &lt;obshell-4.2.5.1-12025010214.el8.x86_64.rpm&gt;
<span class="o">[</span>dep_create.sh] unpack package &lt;obshell-4.2.5.1-12025010214.el8.x86_64.rpm&gt;... SUCCESS
<span class="o">[</span>build.sh] use dep_create.sh to create deps cost <span class="nb">time</span>: 4m31s
<span class="nt">--</span> Using C++11 standard
<span class="nt">--</span> build with pie
<span class="nt">--</span> ob-compile not found, compile locally.
<span class="nt">--</span> The CXX compiler identification is Clang 11.0.1
<span class="nt">--</span> The C compiler identification is Clang 11.0.1
<span class="nt">--</span> The ASM compiler identification is Clang with GNU-like command-line
<span class="nt">--</span> Found assembler: /home/wxj/oceanbase/deps/3rd/usr/local/oceanbase/devtools/bin/clang
<span class="nt">--</span> Detecting CXX compiler ABI info
<span class="nt">--</span> Detecting CXX compiler ABI info - failed
<span class="nt">--</span> Check <span class="k">for </span>working CXX compiler: /home/wxj/oceanbase/deps/3rd/usr/local/oceanbase/devtools/bin/clang++
<span class="nt">--</span> Check <span class="k">for </span>working CXX compiler: /home/wxj/oceanbase/deps/3rd/usr/local/oceanbase/devtools/bin/clang++ - works
<span class="nt">--</span> Detecting CXX compile features
<span class="nt">--</span> Detecting CXX compile features - <span class="k">done</span>
<span class="nt">--</span> Detecting C compiler ABI info
<span class="nt">--</span> Detecting C compiler ABI info - failed
<span class="nt">--</span> Check <span class="k">for </span>working C compiler: /home/wxj/oceanbase/deps/3rd/usr/local/oceanbase/devtools/bin/clang
<span class="nt">--</span> Check <span class="k">for </span>working C compiler: /home/wxj/oceanbase/deps/3rd/usr/local/oceanbase/devtools/bin/clang - works
<span class="nt">--</span> Detecting C compile features
<span class="nt">--</span> Detecting C compile features - <span class="k">done</span>
<span class="nt">--</span> open <span class="nb">source </span>build enabled
<span class="nt">--</span> This is BINARY <span class="nb">dir</span> /home/wxj/oceanbase/build_debug
<span class="nt">--</span> This is SOURCE <span class="nb">dir</span> /home/wxj/oceanbase
<span class="nt">--</span> check deps <span class="k">for </span>libeasy
<span class="nt">--</span> This is BINARY <span class="nb">dir</span> /home/wxj/oceanbase/build_debug/deps/oblib
<span class="nt">--</span> This is SOURCE <span class="nb">dir</span> /home/wxj/oceanbase/deps/oblib
<span class="nt">--</span> oblib_add_library compress
<span class="nt">--</span> oblib_add_library zstd
<span class="nt">--</span> oblib_add_library zstd_1_3_8
<span class="nt">--</span> oblib_add_library lz4
<span class="nt">--</span> oblib_add_library snappy
<span class="nt">--</span> zlib_lite use qpl
<span class="nt">--</span> oblib_add_library zlib_lite
<span class="nt">--</span> oblib_add_library restore
<span class="nt">--</span> oblib_add_library s3
<span class="nt">--</span> oblib_add_library cos_sdk
<span class="nt">--</span> ob_lib_add_target oblib_lib_simd
<span class="nt">--</span> ob_lib_add_target oblib_lib
<span class="nt">--</span> ob_lib_add_target oblib_lib_extra
<span class="nt">--</span> ob_lib_add_target oblib_lib_bitmap
<span class="nt">--</span> ob_add_new_object_target ob_malloc_object
<span class="nt">--</span> ob_lib_add_target oblib_common
<span class="nt">--</span> ob_lib_add_target oblib_rpc
<span class="nt">--</span> oblib_extra_objects /home/wxj/oceanbase/build_debug/deps/oblib/src/lib/compress/zstd/zstd_objs.o<span class="p">;</span>/home/wxj/oceanbase/build_debug/deps/oblib/src/lib/compress/zstd_1_3_8/zstd_1_3_8_objs.o<span class="p">;</span>/home/wxj/oceanbase/build_debug/deps/oblib/src/lib/compress/lz4/lz4-all.a.o<span class="p">;</span>/home/wxj/oceanbase/build_debug/deps/oblib/src/lib/compress/zlib_lite/zlib_lite_objs.o<span class="p">;</span>/home/wxj/oceanbase/build_debug/deps/oblib/src/lib/restore/cos/cos_sdk_objs.o
<span class="nt">--</span> /home/wxj/oceanbase/deps/3rd
<span class="nt">--</span> This is BINARY <span class="nb">dir</span> /home/wxj/oceanbase/build_debug/src/objit
<span class="nt">--</span> This is SOURCE <span class="nb">dir</span> /home/wxj/oceanbase/src/objit
<span class="nt">--</span> Performing Test LLVM_LIBSTDCXX_MIN
<span class="nt">--</span> Performing Test LLVM_LIBSTDCXX_MIN - Success
<span class="nt">--</span> Performing Test LLVM_LIBSTDCXX_SOFT_ERROR
<span class="nt">--</span> Performing Test LLVM_LIBSTDCXX_SOFT_ERROR - Success
<span class="nt">--</span> Performing Test C_SUPPORTS_FPIC
<span class="nt">--</span> Performing Test C_SUPPORTS_FPIC - Success
<span class="nt">--</span> Performing Test CXX_SUPPORTS_FPIC
<span class="nt">--</span> Performing Test CXX_SUPPORTS_FPIC - Success
<span class="nt">--</span> Building with <span class="nt">-fPIC</span>
<span class="nt">--</span> Performing Test SUPPORTS_FVISIBILITY_INLINES_HIDDEN_FLAG
<span class="nt">--</span> Performing Test SUPPORTS_FVISIBILITY_INLINES_HIDDEN_FLAG - Success
<span class="nt">--</span> Performing Test C_SUPPORTS_WERROR_DATE_TIME
<span class="nt">--</span> Performing Test C_SUPPORTS_WERROR_DATE_TIME - Success
<span class="nt">--</span> Performing Test CXX_SUPPORTS_WERROR_DATE_TIME
<span class="nt">--</span> Performing Test CXX_SUPPORTS_WERROR_DATE_TIME - Success
<span class="nt">--</span> Performing Test C_SUPPORTS_WERROR_UNGUARDED_AVAILABILITY_NEW
<span class="nt">--</span> Performing Test C_SUPPORTS_WERROR_UNGUARDED_AVAILABILITY_NEW - Success
<span class="nt">--</span> Performing Test CXX_SUPPORTS_WERROR_UNGUARDED_AVAILABILITY_NEW
<span class="nt">--</span> Performing Test CXX_SUPPORTS_WERROR_UNGUARDED_AVAILABILITY_NEW - Success
<span class="nt">--</span> Looking <span class="k">for </span>os_signpost_interval_begin
<span class="nt">--</span> Looking <span class="k">for </span>os_signpost_interval_begin - not found
<span class="nt">--</span> ob_add_new_object_target ob_share
<span class="nt">--</span> ob_add_new_object_target ob_share_extra
<span class="nt">--</span> ob_add_new_object_target ob_sql
<span class="nt">--</span> ob_add_new_object_target ob_sql_extra
<span class="nt">--</span> observer_add_target ob_sql_simd
CMake Error at src/sql/CMakeLists.txt:1599 <span class="o">(</span>message<span class="o">)</span>:
  Generate sql parser failed and check error <span class="k">in</span>
  /home/wxj/oceanbase/src/sql/parser/_gen_parser.error


<span class="nt">--</span> Configuring incomplete, errors occurred!
<span class="o">[</span>build.sh][ERROR] Failed to generate Makefile
</pre></td></tr></tbody></table></code></div></div>

<p>查看编译错误信息：</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>┌─[✗]─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="nv">$ </span><span class="nb">cat</span> /home/wxj/oceanbase/src/sql/parser/_gen_parser.error
gen_parser.sh:行297: /home/wxj/oceanbase/src/sql/parser/_MD5: No such file or directory
Compile error: , abort.
┌─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="nv">$ </span>vi /home/wxj/oceanbase/src/sql/parser/_gen_parser.error
┌─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="nv">$ </span>ll /home/wxj/oceanbase/src/sql/parser/_MD5
<span class="nb">ls</span>: 无法访问<span class="s1">'/home/wxj/oceanbase/src/sql/parser/_MD5'</span>: No such file or directory
Can you execute the script src/sql/parser/gen_parser.sh and check the output?

</pre></td></tr></tbody></table></code></div></div>

<p>安装 bison</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>┌─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="nv">$ </span><span class="nb">sudo </span>dnf <span class="nb">install</span> <span class="nt">-y</span> bison bison-devel bison-runtime
</pre></td></tr></tbody></table></code></div></div>

<p>继续编译</p>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
</pre></td><td class="rouge-code"><pre>┌─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="nv">$ </span>bash build.sh debug <span class="nt">--init</span> <span class="nt">--make</span> <span class="nt">-j7</span>
build.sh debug <span class="nt">--init</span> <span class="nt">--make</span> <span class="nt">-j7</span>
<span class="o">[</span>dep_create.sh] <span class="o">[</span>NOTICE] <span class="s1">'Anolis OS 8.9 (x86_64)'</span> is compatible with CentOS 8, use el8 dependencies list
<span class="o">[</span>dep_create.sh] oceanbase.el8.x86_64.deps has been initialized due to /home/wxj/oceanbase/deps/3rd/90249e88dcca473f3d6eccbf5b0a9cf1, /home/wxj/oceanbase/deps/3rd/DONE and /home/wxj/oceanbase/deps/3rd/CPP_11 exists
<span class="o">[</span>build.sh] use dep_create.sh to create deps cost <span class="nb">time</span>: 0m0s
<span class="nt">--</span> Using C++11 standard
<span class="nt">--</span> build with pie
<span class="nt">--</span> Using OB_CC compiler: /home/wxj/oceanbase/deps/3rd/usr/local/oceanbase/devtools/bin/clang
<span class="nt">--</span> Using OB_CXX compiler: /home/wxj/oceanbase/deps/3rd/usr/local/oceanbase/devtools/bin/clang++
<span class="nt">--</span> ob-compile not found, compile locally.
<span class="nt">--</span> open <span class="nb">source </span>build enabled
<span class="nt">--</span> This is BINARY <span class="nb">dir</span> /home/wxj/oceanbase/build_debug
<span class="nt">--</span> This is SOURCE <span class="nb">dir</span> /home/wxj/oceanbase
<span class="nt">--</span> check deps <span class="k">for </span>libeasy
<span class="nt">--</span> This is BINARY <span class="nb">dir</span> /home/wxj/oceanbase/build_debug/deps/oblib
<span class="nt">--</span> This is SOURCE <span class="nb">dir</span> /home/wxj/oceanbase/deps/oblib
<span class="nt">--</span> oblib_add_library compress
<span class="nt">--</span> oblib_add_library zstd
<span class="nt">--</span> oblib_add_library zstd_1_3_8
<span class="nt">--</span> oblib_add_library lz4
<span class="nt">--</span> oblib_add_library snappy
<span class="nt">--</span> zlib_lite use qpl
<span class="nt">--</span> oblib_add_library zlib_lite
<span class="nt">--</span> oblib_add_library restore
<span class="nt">--</span> oblib_add_library s3
<span class="nt">--</span> oblib_add_library cos_sdk
<span class="nt">--</span> ob_lib_add_target oblib_lib_simd
<span class="nt">--</span> ob_lib_add_target oblib_lib
<span class="nt">--</span> ob_lib_add_target oblib_lib_extra
<span class="nt">--</span> ob_lib_add_target oblib_lib_bitmap
<span class="nt">--</span> ob_add_new_object_target ob_malloc_object
<span class="nt">--</span> ob_lib_add_target oblib_common
<span class="nt">--</span> ob_lib_add_target oblib_rpc
<span class="nt">--</span> oblib_extra_objects /home/wxj/oceanbase/build_debug/deps/oblib/src/lib/compress/zstd/zstd_objs.o<span class="p">;</span>/home/wxj/oceanbase/build_debug/deps/oblib/src/lib/compress/zstd_1_3_8/zstd_1_3_8_objs.o<span class="p">;</span>/home/wxj/oceanbase/build_debug/deps/oblib/src/lib/compress/lz4/lz4-all.a.o<span class="p">;</span>/home/wxj/oceanbase/build_debug/deps/oblib/src/lib/compress/zlib_lite/zlib_lite_objs.o<span class="p">;</span>/home/wxj/oceanbase/build_debug/deps/oblib/src/lib/restore/cos/cos_sdk_objs.o
<span class="nt">--</span> /home/wxj/oceanbase/deps/3rd
<span class="nt">--</span> This is BINARY <span class="nb">dir</span> /home/wxj/oceanbase/build_debug/src/objit
<span class="nt">--</span> This is SOURCE <span class="nb">dir</span> /home/wxj/oceanbase/src/objit
<span class="nt">--</span> Building with <span class="nt">-fPIC</span>
<span class="nt">--</span> ob_add_new_object_target ob_share
<span class="nt">--</span> ob_add_new_object_target ob_share_extra
<span class="nt">--</span> ob_add_new_object_target ob_sql
<span class="nt">--</span> ob_add_new_object_target ob_sql_extra
<span class="nt">--</span> observer_add_target ob_sql_simd
<span class="nt">--</span> observer_add_target ob_pl
<span class="nt">--</span> observer_add_target syspack_source
<span class="nt">--</span> observer_add_target ob_rootserver
<span class="nt">--</span> observer_add_target ob_logservice
<span class="nt">--</span> ob_add_new_object_target oblogminer_objs
<span class="nt">--</span> ob_add_new_object_target oblogminer_obj_dev
<span class="nt">--</span> ob_add_new_object_target obcdc_objects
<span class="nt">--</span> ob_add_new_object_target obcdc_objects_miner
<span class="nt">--</span> ob_add_new_object_target obcdc_tailf_objects
<span class="nt">--</span> ob_add_new_object_target obcdc_tailf_objects_static
<span class="nt">--</span> ob_add_new_object_target ob_storage
<span class="nt">--</span> observer_add_target ob_storage_simd
<span class="nt">--</span> observer_add_target ob_diagnose_lua
<span class="nt">--</span> observer_add_target ob_server
<span class="nt">--</span> ob_add_new_object_target obtable_base_objects
<span class="nt">--</span> observer_add_target ob_plugin
<span class="nt">--</span> Found PkgConfig: /usr/bin/pkg-config <span class="o">(</span>found version <span class="s2">"1.4.2"</span><span class="o">)</span>
<span class="nt">--</span> system package release directory: /home/wxj/oceanbase/build_debug/syspack_release
<span class="nt">--</span> Cpack Components:server<span class="p">;</span>sql-parser<span class="p">;</span>libs
<span class="nt">--</span> Configuring <span class="k">done</span> <span class="o">(</span>6.0s<span class="o">)</span>
<span class="nt">--</span> Generating <span class="k">done</span> <span class="o">(</span>4.4s<span class="o">)</span>
<span class="nt">--</span> Build files have been written to: /home/wxj/oceanbase/build_debug
<span class="o">[</span>  0%] Built target bitcode_to_elf
<span class="o">[</span>  0%] Building CXX object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_qpl.dir/codec_deflate_qpl.cpp.o
<span class="o">[</span>  0%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/adler32.c.o
<span class="o">[</span>  0%] Building CXX object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_adaptor.dir/zlib_lite_adaptor.cpp.o
<span class="o">[</span>  0%] Generating wrapped syspack <span class="nb">source </span>files
<span class="o">[</span>  0%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/compress.c.o
/bin/sh: python: 未找到命令
make[2]: <span class="k">***</span> <span class="o">[</span>src/pl/CMakeFiles/generate_syspack_source.dir/build.make:74：/home/wxj/oceanbase/src/share/inner_table/sys_package/syspack_source.cpp] 错误 127
make[1]: <span class="k">***</span> <span class="o">[</span>CMakeFiles/Makefile2:11809：src/pl/CMakeFiles/generate_syspack_source.dir/all] 错误 2
make[1]: <span class="k">***</span> 正在等待未完成的任务....
<span class="o">[</span>  0%] Building CXX object deps/oblib/src/lib/CMakeFiles/mock_di.dir/stat/mock_diagnostic_info.cpp.o
<span class="o">[</span>  0%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/crc32.c.o
<span class="o">[</span>  0%] Linking CXX static library libmock_di.a
<span class="o">[</span>  0%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/gzclose.c.o
<span class="o">[</span>  0%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_baseth_pool.c.o
<span class="o">[</span>  0%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/gzlib.c.o
<span class="o">[</span>  0%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/deflate.c.o
<span class="o">[</span>  2%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/gzread.c.o
<span class="o">[</span>  2%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/gzwrite.c.o
<span class="o">[</span>  2%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/infback.c.o
<span class="o">[</span>  2%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/inffast.c.o
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_client.c.o
<span class="o">[</span>  2%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/inflate.c.o
<span class="o">[</span>  2%] Built target zlib_lite_adaptor
<span class="o">[</span>  2%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/inftrees.c.o
<span class="o">[</span>  2%] Linking CXX static library libzlib_lite_qpl.a
<span class="o">[</span>  2%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/trees.c.o
<span class="o">[</span>  2%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/uncompr.c.o
<span class="o">[</span>  2%] Building C object deps/oblib/src/lib/compress/zlib_lite/CMakeFiles/zlib_lite_src.dir/zlib_lite_src/zutil.c.o
<span class="o">[</span>  2%] Built target zlib_lite_qpl
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_connection.c.o
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_file.c.o
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_io.c.o
<span class="o">[</span>  2%] Built target mock_di
<span class="o">[</span>  2%] Built target zlib_lite_src
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_maccept.c.o
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_log.c.o
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_message.c.o
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_request.c.o
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_socket.c.o
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_ssl.c.o
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_summary.c.o
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/easy_negotiation.c.o
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/io/ev.c.o
<span class="o">[</span>  2%] Building C object deps/easy/src/CMakeFiles/easy.dir/memory/easy_mem_page.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/memory/easy_mem_pool.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/memory/easy_mem_slab.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/packet/http/easy_http_handler.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/thread/easy_uthread.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/util/easy_array.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/util/easy_buf.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/packet/http/http_parser.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/util/easy_hash.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/util/easy_inet.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/util/easy_mod_stat.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/util/easy_pool.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/util/easy_string.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/util/easy_time.c.o
<span class="o">[</span>  5%] Building C object deps/easy/src/CMakeFiles/easy.dir/util/easy_util.c.o
<span class="o">[</span>  5%] Linking C static library libeasy.a
<span class="o">[</span>  5%] Built target easy
make: <span class="k">***</span> <span class="o">[</span>Makefile:166：all] 错误 2
</pre></td></tr></tbody></table></code></div></div>

<p>感觉文档中有些依赖没有安装，手动安装依赖，oceanbase 使用 cpp 编写，根据日志提示使用的 cpp11 标准，先安装下 gcc，cmake等，上文又提示没有 python ，AnliOS7/8 根据 centos7/8 开发的，应该是也是使用的 python2 ，所以再安装下 python2</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>┌─[✗]─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="nv">$ </span><span class="nb">sudo </span>dnf <span class="nb">install</span> <span class="nt">-y</span> gcc gcc-c++ cmake python2
</pre></td></tr></tbody></table></code></div></div>

<p>安装之后继续编译提示以下错误：</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="o">[</span>  2%] Built target zlib_lite_qpl
/bin/sh: python: 未找到命令
make[2]: <span class="k">***</span> <span class="o">[</span>src/pl/CMakeFiles/generate_syspack_source.dir/build.make:74：/home/wxj/oceanbase/src/share/inner_table/sys_package/syspack_source.cpp] 错误 127
<span class="o">[</span>  2%] Built target mock_di
</pre></td></tr></tbody></table></code></div></div>

<p>创建一个 python 的软链接</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nb">sudo ln</span> <span class="nt">-s</span> /usr/bin/python2 /usr/bin/python

┌─[✗]─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /usr/bin/python2 /usr/bin/python
┌─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="nv">$ </span>bash build.sh debug <span class="nt">--init</span> <span class="nt">--make</span> <span class="nt">-j7</span>

</pre></td></tr></tbody></table></code></div></div>

<p>接下来就是等待，如果中间编译因为 OOM 或者其他不影响编译的原因中断了，可以重新编译，会接着上次中止的地方接续编译的</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="o">[</span> 97%] Built target oceanbase_static
<span class="o">[</span> 97%] Linking CXX executable observer_without_bolt
<span class="o">[</span> 97%] Linking CXX shared library libobcdc.so
<span class="o">[</span> 97%] Built target obcdc_static
<span class="o">[</span> 97%] Building CXX object src/logservice/logminer/CMakeFiles/oblogminer_objs.dir/Unity/unity_oblogminer_obj_list_common/0_cxx.cxx.o
<span class="o">[</span>100%] Built target oblogminer_objs
<span class="o">[</span>100%] Building CXX object src/logservice/logminer/CMakeFiles/oblogminer.dir/ob_log_miner_main.cpp.o
<span class="o">[</span>100%] Linking CXX executable oblogminer
<span class="o">[</span>100%] Built target observer_without_bolt
<span class="o">[</span>100%] Built target obcdc
<span class="o">[</span>100%] Generating fake_observer
<span class="o">[</span>100%] Building CXX object src/logservice/libobcdc/tests/CMakeFiles/obcdc_tailf_objects.dir/Unity/unity_obcdc_tailf_object_list_common/0_cxx.cxx.o
<span class="o">[</span>100%] Built target observer
<span class="o">[</span>100%] Built target oceanbase
<span class="o">[</span>100%] Building CXX object src/libtable/src/CMakeFiles/obtable_base_objects.dir/Unity/unity_obtable_base_object_list_common/0_cxx.cxx.o
<span class="o">[</span>100%] Built target oblogminer
<span class="o">[</span>100%] Built target obcdc_tailf_objects
<span class="o">[</span>100%] Linking CXX executable obcdc_tailf
<span class="o">[</span>100%] Built target obcdc_tailf
<span class="o">[</span>100%] Built target obtable_base_objects
<span class="o">[</span>100%] Linking CXX shared library libobtable.so
<span class="o">[</span>100%] Built target obtable
<span class="o">[</span>100%] Built target ob_table
</pre></td></tr></tbody></table></code></div></div>

<p>完成后会在当前目录生成build_debug子目录，在build_debug/src/observer目录下会有一个observer二进制文件，observer的启动文件</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>┌─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="nv">$ </span><span class="nb">ls </span>build_debug/src/
CMakeFiles  cmake_install.cmake  diagnose  libtable  logservice  Makefile  objit  observer  pl  plugin  rootserver  share  sql  storage
┌─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="nv">$ </span><span class="nb">ls </span>build_debug/src/observer/
CMakeFiles  cmake_install.cmake  liboceanbase.so  liboceanbase_static.a  Makefile  observer  ob_version.cpp
┌─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="err">$</span>
</pre></td></tr></tbody></table></code></div></div>

<h2 id="配置-limits"><span class="me-2">配置 limits</span><a href="#配置-limits" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre>vi /etc/security/limits.conf

<span class="c">## 这里根据自己的实际配置参考官网配置就行</span>

root soft nofile 655350
root hard nofile 655350
<span class="k">*</span> soft nofile 655350
<span class="k">*</span> hard nofile 655350
<span class="k">*</span> soft stack 20480
<span class="k">*</span> hard stack 20480
<span class="k">*</span> soft <span class="nb">nproc </span>655360
<span class="k">*</span> hard <span class="nb">nproc </span>655360
<span class="k">*</span> soft core unlimited
<span class="k">*</span> hard core unlimited



<span class="nb">ulimit</span> <span class="nt">-a</span>
</pre></td></tr></tbody></table></code></div></div>

<h2 id="使用-obd-部署-oceanbase-数据库-不要操作该步骤没什么用obd-会自动联网部署参考下面的步骤"><span class="me-2"><del>使用 OBD 部署 OceanBase 数据库 ：不要操作该步骤，没什么用，OBD 会自动联网部署，参考下面的步骤</del></span><a href="#使用-obd-部署-oceanbase-数据库-不要操作该步骤没什么用obd-会自动联网部署参考下面的步骤" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="安装-obd-和-obclient"><span class="me-2">安装 OBD 和 OBClient</span><a href="#安装-obd-和-obclient" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><a href="https://www.oceanbase.com/docs/community-obd-cn-10000000000436995">安装 OBD</a></p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nb">sudo </span>yum <span class="nb">install</span> <span class="nt">-y</span> yum-utils
<span class="nb">sudo </span>yum-config-manager <span class="nt">--add-repo</span> https://mirrors.aliyun.com/oceanbase/OceanBase.repo
<span class="nb">sudo </span>yum <span class="nb">install</span> <span class="nt">-y</span> ob-deploy libtool libaio 
<span class="nb">source</span> /etc/profile.d/obd.sh

</pre></td></tr></tbody></table></code></div></div>

<p><a href="https://github.com/oceanbase/obclient/blob/master/README.md">安装 OBClient</a></p>

<p>直接使用 dnf 和 yum 安装一直报错，如果不想自己编译，可以直接去<a href="https://www.oceanbase.com/softwarecenter-cloud">官网下载</a>对应的 rpm 包，然后使用 rpm 安装</p>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre>┌─[✗]─[wxj@darkstar-ob]─[~/oceanbase]
└──╼ <span class="nv">$ </span><span class="nb">sudo </span>yum <span class="nb">install</span> <span class="nt">-y</span> obclient
OceanBase-community-stable-el8                                                                                                                                          2.2 kB/s | 3.0 kB     00:01
依赖关系解决。
<span class="o">========================================================================================================================================================================================================</span>
 软件包                                  架构                                  版本                                                     仓库                                                       大小
<span class="o">========================================================================================================================================================================================================</span>
安装:
 obclient                                x86_64                                2.2.10-22025032014.el8                                   oceanbase.community.stable                                 15 M

事务概要
<span class="o">========================================================================================================================================================================================================</span>
安装  1 软件包

总下载：15 M
安装大小：62 M
下载软件包：
<span class="o">[</span>MIRROR] obclient-2.2.10-22025032014.el8.x86_64.rpm: Status code: 404 <span class="k">for </span>https://mirrors.oceanbase.com/community/stable/el/8/x86_64/obclient-2.2.10-22025032014.el8.x86_64.rpm <span class="o">(</span>IP: 2409:8c54:3810:c:3::3f2<span class="o">)</span>
<span class="o">[</span>MIRROR] obclient-2.2.10-22025032014.el8.x86_64.rpm: Status code: 404 <span class="k">for </span>https://mirrors.oceanbase.com/community/stable/el/8/x86_64/obclient-2.2.10-22025032014.el8.x86_64.rpm <span class="o">(</span>IP: 2409:8c54:3810:c:3::3f2<span class="o">)</span>
<span class="o">[</span>MIRROR] obclient-2.2.10-22025032014.el8.x86_64.rpm: Status code: 404 <span class="k">for </span>https://mirrors.oceanbase.com/community/stable/el/8/x86_64/obclient-2.2.10-22025032014.el8.x86_64.rpm <span class="o">(</span>IP: 2409:8c54:3810:c:3::3f2<span class="o">)</span>
<span class="o">[</span>MIRROR] obclient-2.2.10-22025032014.el8.x86_64.rpm: Status code: 404 <span class="k">for </span>https://mirrors.oceanbase.com/community/stable/el/8/x86_64/obclient-2.2.10-22025032014.el8.x86_64.rpm <span class="o">(</span>IP: 2409:8c54:3810:c:3::3f2<span class="o">)</span>
<span class="o">[</span>FAILED] obclient-2.2.10-22025032014.el8.x86_64.rpm: No more mirrors to try - All mirrors were already tried without success

下载的软件包保存在缓存中，直到下次成功执行事务。
您可以通过执行 <span class="s1">'yum clean packages'</span> 删除软件包缓存。
错误：下载软件包出错 :
  obclient-2.2.10-22025032014.el8.x86_64: Cannot download, all mirrors were already tried without success
</pre></td></tr></tbody></table></code></div></div>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>┌─[wxj@darkstar-ob]─[~]
└──╼ <span class="nv">$ </span>wget <span class="s2">"https://file.oceanbase.com/download-center/cloud/prod/04%20OB%20Client/obclient-2.2.1-20221122151945.el7.alios7.x86_64.rpm?Expires=1742892102&amp;OSSAccessKeyId=LTAI5t7e2NHLVzUPYGQm2Lka&amp;Signature=23fDwKlZPgtnWjFs67uR7n%2Fq5Ao%3D"</span> <span class="nt">-O</span> obclient-2.2.1-20221122151945.el7.alios7.x86_64.rpm

┌─[wxj@darkstar-ob]─[~]
└──╼ <span class="nv">$ </span><span class="nb">sudo </span>yum <span class="nb">install</span> <span class="nt">-y</span> ./obclient-2.2.1-20221122151945.el7.alios7.x86_64.rpm

</pre></td></tr></tbody></table></code></div></div>

<h3 id="使用-obd-部署-oceanbase-数据库"><span class="me-2">使用 OBD 部署 OceanBase 数据库</span><a href="#使用-obd-部署-oceanbase-数据库" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><a href="https://www.oceanbase.com/docs/community-observer-cn-10000000000013235">使用 OBD 部署 OceanBase 数据库</a></p>

<ul>
  <li>如果您采用本地安装，即中控机器和目标机器是同一台机器，请下载 <a href="https://github.com/oceanbase/obdeploy/blob/master/example/mini-local-example.yaml">本地安装配置文件</a></li>
  <li>如果您采用单机安装，即中控机器和目标机器不是同一台机器，且目标机器只有一台，请下载 <a href="https://github.com/oceanbase/obdeploy/blob/master/example/mini-single-example.yaml">单机安装配置文件</a></li>
  <li>如果您采用分布式安装，即中控机器和目标机器不是同一台机器，且目标机器有多台，请下载 <a href="https://github.com/oceanbase/obdeploy/blob/master/example/mini-distributed-example.yaml">分布式安装配置文件</a></li>
</ul>

<p>本次部署采用的部署是本地安装</p>

<div class="language-yaml highlighter-rouge"><div class="code-header">
        <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="na">oceanbase-ce</span><span class="pi">:</span>
  <span class="na">servers</span><span class="pi">:</span>
    <span class="c1"># Please don't use hostname, only IP can be supported</span>
    <span class="pi">-</span> <span class="s">127.0.0.1</span>
  <span class="na">global</span><span class="pi">:</span>
    <span class="c1">#  The working directory for OceanBase Database. OceanBase Database is started under this directory. This is a required field.</span>
    <span class="na">home_path</span><span class="pi">:</span> <span class="s">/oceanbase</span>
    <span class="c1"># The directory for data storage. The default value is $home_path/store.</span>
    <span class="c1"># data_dir: /data</span>
    <span class="c1"># The directory for clog, ilog, and slog. The default value is the same as the data_dir value.</span>
    <span class="c1"># redo_dir: /redo</span>
    <span class="c1"># Starting from observer version 4.2, the network selection for the observer is based on the 'local_ip' parameter, and the 'devname' parameter is no longer mandatory.</span>
    <span class="c1"># If the 'local_ip' parameter is set, the observer will first use this parameter for the configuration, regardless of the 'devname' parameter.</span>
    <span class="c1"># If only the 'devname' parameter is set, the observer will use the 'devname' parameter for the configuration.</span>
    <span class="c1"># If neither the 'devname' nor the 'local_ip' parameters are set, the 'local_ip' parameter will be automatically assigned the IP address configured above.</span>
    <span class="c1"># devname: eth0</span>
    <span class="na">mysql_port</span><span class="pi">:</span> <span class="m">2881</span> <span class="c1"># External port for OceanBase Database. The default value is 2881. DO NOT change this value after the cluster is started.</span>
    <span class="na">rpc_port</span><span class="pi">:</span> <span class="m">2882</span> <span class="c1"># Internal port for OceanBase Database. The default value is 2882. DO NOT change this value after the cluster is started.</span>
    <span class="na">obshell_port</span><span class="pi">:</span> <span class="m">2886</span> <span class="c1"># Operation and maintenance port for Oceanbase Database. The default value is 2886. This parameter is valid only when the version of oceanbase-ce is 4.2.2.0 or later.</span>
    <span class="na">zone</span><span class="pi">:</span> <span class="s">zone1</span>
    <span class="na">cluster_id</span><span class="pi">:</span> <span class="m">1</span>
    <span class="c1"># please set memory limit to a suitable value which is matching resource. </span>
    <span class="na">memory_limit</span><span class="pi">:</span> <span class="s">6G</span> <span class="c1"># The maximum running memory for an observer</span>
    <span class="na">system_memory</span><span class="pi">:</span> <span class="s">1G</span> <span class="c1"># The reserved system memory. system_memory is reserved for general tenants. The default value is 30G.</span>
    <span class="na">datafile_size</span><span class="pi">:</span> <span class="s">2G</span> <span class="c1"># Size of the data file. </span>
    <span class="na">datafile_next</span><span class="pi">:</span> <span class="s">2G</span> <span class="c1"># the auto extend step. Please enter an capacity, such as 2G</span>
    <span class="na">datafile_maxsize</span><span class="pi">:</span> <span class="s">30G</span> <span class="c1"># the auto extend max size. Please enter an capacity, such as 20G</span>
    <span class="na">log_disk_size</span><span class="pi">:</span> <span class="s">24G</span> <span class="c1"># The size of disk space used by the clog files.</span>
    <span class="na">cpu_count</span><span class="pi">:</span> <span class="m">8</span>
    <span class="na">production_mode</span><span class="pi">:</span> <span class="kc">false</span>
    <span class="na">enable_syslog_wf</span><span class="pi">:</span> <span class="kc">false</span> <span class="c1"># Print system logs whose levels are higher than WARNING to a separate log file. The default value is true.</span>
    <span class="na">max_syslog_file_count</span><span class="pi">:</span> <span class="m">4</span> <span class="c1"># The maximum number of reserved log files before enabling auto recycling. The default value is 0.</span>
    <span class="c1"># root_password: # root user password, can be empty</span>
</pre></td></tr></tbody></table></code></div></div>

<h2 id="部署-oceanbase-数据库"><span class="me-2">部署 OceanBase 数据库</span><a href="#部署-oceanbase-数据库" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>编译完成 oceanbase 的源码之后，进入 <code class="language-plaintext highlighter-rouge">/home/wxj/oceanbase/tools/deploy/</code> 目录，通过其中的 <code class="language-plaintext highlighter-rouge">obd.sh</code> 脚本进行部署，如果安装了 OBD，请先卸载，免得扰乱环境。安装 obcliet 需要通过官网下载 rpm 包，然后安装</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre>┌─[wxj@darkstar-ob]─[~/oceanbase/tools/deploy]
└──╼ <span class="nv">$ </span>ll
总用量 60
<span class="nt">-rw-rw-r--</span> 1 wxj wxj  3316 3月  24 11:35 activate_obd.sh
<span class="nt">-rwxrwxr-x</span> 1 wxj wxj  2789 3月  24 11:35 copy.sh
<span class="nt">-rw-rw-r--</span> 1 wxj wxj 13327 3月  24 11:35 init_create_tenant_routines.sql
<span class="nt">-rw-rw-r--</span> 1 wxj wxj  2940 3月  24 11:35 init_for_ce.sql
<span class="nt">-rw-rw-r--</span> 1 wxj wxj   309 3月  24 11:35 init_user.sql
drwxrwxr-x 6 wxj wxj    78 3月  24 11:35 mysql_test
drwxrwxr-x 2 wxj wxj  4096 3月  24 11:35 obd
<span class="nt">-rwxrwxr-x</span> 1 wxj wxj 23787 3月  24 11:35 obd.sh

<span class="c">## 卸载 OBD</span>
<span class="nb">sudo </span>yum remove <span class="nt">-y</span> ob-deploy

<span class="c">## 安装 OBClient</span>

┌─[wxj@darkstar-ob]─[~]
└──╼ <span class="nv">$ </span><span class="nb">cd</span> ~ <span class="o">&amp;&amp;</span> wget <span class="s2">"https://file.oceanbase.com/download-center/cloud/prod/04%20OB%20Client/obclient-2.2.1-20221122151945.el7.alios7.x86_64.rpm?Expires=1742892102&amp;OSSAccessKeyId=LTAI5t7e2NHLVzUPYGQm2Lka&amp;Signature=23fDwKlZPgtnWjFs67uR7n%2Fq5Ao%3D"</span> <span class="nt">-O</span> obclient-2.2.1-20221122151945.el7.alios7.x86_64.rpm

┌─[wxj@darkstar-ob]─[~]
└──╼ <span class="nv">$ </span><span class="nb">sudo </span>yum <span class="nb">install</span> <span class="nt">-y</span> ./obclient-2.2.1-20221122151945.el7.alios7.x86_64.rpm
</pre></td></tr></tbody></table></code></div></div>
<p>利用 obd.sh 生成部署配置文件</p>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
</pre></td><td class="rouge-code"><pre><span class="nb">cd</span> /home/wxj/oceanbase/tools/deploy/
<span class="c">## 执行该步骤之后会在当前目录生成一个 single和distributed 的配置文件</span>
./obd.sh prepare <span class="nt">-p</span> ~wxj/oceanbase/build_debug/src/observer
<span class="c"># ./obd.sh prepare -p /oceanbase/data -b ~wxj/oceanbase/build_debug/src/observer</span>
  ┌─[wxj@darkstar-ob]─[~/oceanbase/tools/deploy]
  └──╼ <span class="nv">$ </span>./obd.sh prepare <span class="nt">-p</span> ~wxj/oceanbase/build_debug/src/observer
  Choose /home/wxj/oceanbase/build_debug as build directory of oceanbase.
  Installing /home/wxj/oceanbase/build_debug/src/observer/observer
  OK
  Installing /home/wxj/oceanbase/build_debug/syspack_release/<span class="k">*</span> OK
  Installing /home/wxj/oceanbase/deps/3rd/usr/local/oceanbase/devtools/bin/llvm-symbolizer OK
  generate yaml config file: /home/wxj/oceanbase/tools/deploy/single.yaml
  generate yaml config file: /home/wxj/oceanbase/tools/deploy/single-with-proxy.yaml
  generate yaml config file: /home/wxj/oceanbase/tools/deploy/distributed.yaml
  generate yaml config file: /home/wxj/oceanbase/tools/deploy/distributed-with-proxy.yaml

  ┌─[wxj@darkstar-ob]─[~/oceanbase/tools/deploy]
  └──╼ <span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-lrt</span>
  总用量 80
  <span class="nt">-rw-rw-r--</span> 1 wxj wxj   309 3月  24 11:35 init_user.sql
  <span class="nt">-rw-rw-r--</span> 1 wxj wxj  2940 3月  24 11:35 init_for_ce.sql
  <span class="nt">-rw-rw-r--</span> 1 wxj wxj 13327 3月  24 11:35 init_create_tenant_routines.sql
  <span class="nt">-rwxrwxr-x</span> 1 wxj wxj  2789 3月  24 11:35 copy.sh
  <span class="nt">-rw-rw-r--</span> 1 wxj wxj  3316 3月  24 11:35 activate_obd.sh
  drwxrwxr-x 6 wxj wxj    78 3月  24 11:35 mysql_test
  <span class="nt">-rwxrwxr-x</span> 1 wxj wxj 23787 3月  24 11:35 obd.sh
  drwxrwxr-x 2 wxj wxj  4096 3月  24 11:35 obd
  drwxrwxr-x 2 wxj wxj     6 3月  25 16:16 lib
  drwxrwxr-x 2 wxj wxj     6 3月  25 16:16 etc
  drwxrwxr-x 2 wxj wxj     6 3月  25 16:16 debug
  drwxrwxr-x 2 wxj wxj  4096 3月  25 16:16 admin
  drwxrwxr-x 2 wxj wxj    29 3月  25 16:16 tools
  drwxrwxr-x 2 wxj wxj    37 3月  25 16:16 bin
  <span class="nt">-rw-rw-r--</span> 1 wxj wxj   896 3月  25 16:16 single.yaml                <span class="c">## 部署文件模板</span>
  <span class="nt">-rw-rw-r--</span> 1 wxj wxj  1135 3月  25 16:16 single-with-proxy.yaml     <span class="c">## 部署文件模板</span>
  <span class="nt">-rw-rw-r--</span> 1 wxj wxj  1294 3月  25 16:16 distributed.yaml           <span class="c">## 部署文件模板</span>
  <span class="nt">-rw-rw-r--</span> 1 wxj wxj  1533 3月  25 16:16 distributed-with-proxy.yaml <span class="c">## 部署文件模板</span>
  ┌─[wxj@darkstar-ob]─[~/oceanbase/tools/deploy]
  └──╼ <span class="nv">$ </span>vi <span class="nt">-R</span> single.yaml

<span class="c">## 创建 home_path 和 data_dir 目录</span>
┌─[wxj@darkstar-ob]─[~]
└──╼ <span class="nv">$ </span><span class="nb">sudo mkdir</span> <span class="nt">-pv</span> /oceanbase/<span class="o">{</span>data,observer1,redo<span class="o">}</span>
┌─[✗]─[wxj@darkstar-ob]─[~]
└──╼ <span class="nv">$ </span><span class="nb">sudo chown</span> <span class="nt">-R</span> wxj:wxj /oceanbase/

┌─[wxj@darkstar-ob]─[~/oceanbase/tools/deploy]
└──╼ <span class="nv">$ </span><span class="nb">cat </span>single.yaml
oceanbase-ce:
  servers:
    - name: server1
      ip: 127.0.0.1
  server1:
    mysql_port: 10000
    rpc_port: 10001
    home_path: /oceanbase/observer1
    zone: zone1
    <span class="c"># The directory for data storage. The default value is home_path/store.</span>
    data_dir: /oceanbase/data
    <span class="c"># The directory for clog, ilog, and slog. The default value is the same as the data_dir value.</span>
    redo_dir: /oceanbase/redo
  tag: latest
  include: obd/observer.include.yaml
  global:
    <span class="c"># for default system config used by farm, please see tools/deploy/obd/observer.include.yaml</span>
    <span class="c"># You can also specify the configuration directly below (stored locally, switching the working directory and redeploying will still take effect)</span>
    production_mode: <span class="nb">false
    </span>devname: lo
    root_password: <span class="s1">'Obt-324]'</span>
    memory_limit: <span class="s1">'8G'</span>
    system_memory: <span class="s1">'1G'</span>
    datafile_size: <span class="s1">'20G'</span>
    cpu_count: <span class="s1">'8'</span>

<span class="c">## 根据需要修改单机或者分布式的配置件</span>
./obd.sh deploy <span class="nt">-c</span> single.yaml
./obd.sh cluster deploy <span class="nt">-c</span> single.yaml
</pre></td></tr></tbody></table></code></div></div>

<h2 id="总结"><span class="me-2">总结</span><a href="#总结" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>后面在社区找到一份更加详细的编译说明：<a href="https://www.oceanbase.com/docs/community-observer-cn-10000000000013250">使用源码构建 OceanBase 数据库</a></p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/database/">DataBase</a>,
          <a href="/categories/oceanbase/">OceanBase</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/install/"
            class="post-tag no-text-decoration"
          >install</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          本文由作者按照 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         进行授权
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">分享</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=oceanbase%20%E7%A4%BE%E5%8C%BA%E7%89%88%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%20-%20DarkStar&url=https%3A%2F%2Fthedarkstarjack.github.io%2Fposts%2Foceanbase-%25E7%25A4%25BE%25E5%258C%25BA%25E7%2589%2588%25E6%25BA%2590%25E7%25A0%2581%25E7%25BC%2596%25E8%25AF%2591%25E5%25AE%2589%25E8%25A3%2585%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=oceanbase%20%E7%A4%BE%E5%8C%BA%E7%89%88%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%20-%20DarkStar&u=https%3A%2F%2Fthedarkstarjack.github.io%2Fposts%2Foceanbase-%25E7%25A4%25BE%25E5%258C%25BA%25E7%2589%2588%25E6%25BA%2590%25E7%25A0%2581%25E7%25BC%2596%25E8%25AF%2591%25E5%25AE%2589%25E8%25A3%2585%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=https%3A%2F%2Fthedarkstarjack.github.io%2Fposts%2Foceanbase-%25E7%25A4%25BE%25E5%258C%25BA%25E7%2589%2588%25E6%25BA%2590%25E7%25A0%2581%25E7%25BC%2596%25E8%25AF%2591%25E5%25AE%2589%25E8%25A3%2585%2F&text=oceanbase%20%E7%A4%BE%E5%8C%BA%E7%89%88%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%20-%20DarkStar" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="分享链接"
      data-title-succeed="链接已复制！"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">最近更新</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/OGG2KAFKA/">OGG2KAFKA</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/nvim-%E5%88%A9%E7%94%A8-pwsh-%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2%E8%BE%93%E5%85%A5%E6%B3%95/">nvim 利用 pwsh 自动切换输入法</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/powerhsell-%E5%88%87%E6%8D%A2%E8%BE%93%E5%85%A5%E6%B3%95/">powerhsell 切换输入法</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/oceanbase-%E7%A4%BE%E5%8C%BA%E7%89%88%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/">oceanbase 社区版源码编译安装</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/mssql-%E5%88%9B%E5%BB%BA%E5%92%8C%E4%BF%AE%E6%94%B9%E9%93%BE%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8/">mssql-创建和修改链接服务器</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">热门标签</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vim/">Vim</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/postgresql/">PostgreSQL</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/oracle/">Oracle</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ogg/">OGG</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/wsl/">WSL</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">Python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/wal/">WAL</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E9%93%BE%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8/">链接服务器</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E9%9A%8F%E7%AC%94/">随笔</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/awk/">awk</a>
      
    </div>
  </section>


            </div>

            
              
              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">文章内容</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    










  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">相关文章</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/PostgreSQL-%E9%85%8D%E7%BD%AE%E5%AF%86%E7%A0%81%E9%AA%8C%E8%AF%81%E7%AD%96%E7%95%A5/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1724738120"
  data-df="YYYY/MM/DD"
  
>
  2024/08/27
</time>

              <h4 class="pt-0 my-2">PostgreSQL 配置密码验证策略</h4>
              <div class="text-muted">
                <p>概述
数据库等保的时候会遇到一些安全加固操作，其中 PostgreSQL 数据库设置密码验证失败延迟时间可以通过安装 auth_delay 扩展插件来实现，该设置主要是防止暴力破解，在验证失败后, 会延迟一段时间后，才能继续验证。可以搭配 passwordcheck 限制简单密码。

一般来说 ‘passwordcheck、auth_delay’ 两个插件就在源码路径中的 contrid 目...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/Oracle-expdp-impdp%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AA%E8%B7%AF%E5%BE%84/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1724299222"
  data-df="YYYY/MM/DD"
  
>
  2024/08/22
</time>

              <h4 class="pt-0 my-2">Oracle expdp、impdp使用多个路径</h4>
              <div class="text-muted">
                <p>有的时候因为存储空间不足，特别是将生产的数据导入到测试环境，测试环境的空间可能有限。导入的时候可能文件不能放在一个路径下，这个时候就需要使用多个目录，比如 dmp1、dmp2 放在目录 d1 ，其余的文件放在 d2 。

在使用 expdp/impdp 的时候只能通过 DIRECTORY 指定一个目录，但是可以通过选项 DUMPFILE  指定多个文件，文件可以在不同的路径下，以次达到同时使...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/oracle-rac-%E4%B8%BB%E6%9C%BA%E5%BC%82%E5%B8%B8%E9%87%8D%E5%90%AF%E4%B9%8B%E5%90%8E%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E5%90%AF%E5%8A%A8/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1722155050"
  data-df="YYYY/MM/DD"
  
>
  2024/07/28
</time>

              <h4 class="pt-0 my-2">oracle-rac-主机异常重启之后其中一个节点无法正常启动</h4>
              <div class="text-muted">
                <p>前言

记录一下之前遇到的主机重启之后 rac 其中一个节点无法正常启动排查处理的过程，方便后续查询。当初还是第一次在云上部署和维护 rac，所以记录一下。也没有 MOS 账号，所以只能自己查找解决方法 😂

当初还是太年轻，经验欠缺，先入为主

环境信息

os：阿里云 ecs centos7.6 （Linux version 3.10.0-1160.71.1.el7.x86_64 (mo...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/OGG-%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%9A%84%E8%A1%A8/"
      class="btn btn-outline-primary"
      aria-label="上一篇"
    >
      <p>OGG-添加新的表</p>
    </a>
  

  
    <a
      href="/posts/powerhsell-%E5%88%87%E6%8D%A2%E8%BE%93%E5%85%A5%E6%B3%95/"
      class="btn btn-outline-primary"
      aria-label="下一篇"
    >
      <p>powerhsell 切换输入法</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
  d-flex flex-column justify-content-center text-muted
  flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
    <a href="https://twitter.com/username">TheDarkStarJack</a>.
    

    
    <span
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。"
    >保留部分权利。</span>
    
  </p>
  <p>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
    </script>
    [本站总访问量<span id="busuanzi_value_site_pv"></span>次]
    [本站访客数<span id="busuanzi_value_site_uv"></span>人次]
    [本文总阅读量<span id="busuanzi_value_page_pv"></span>次]
  </p>

  <p>本站采用 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 主题 <a
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="v7.2.4"
      href="https://github.com/cotes2020/jekyll-theme-chirpy"
      target="_blank"
      rel="noopener"
    >Chirpy</a>
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">热门标签</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vim/">Vim</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/postgresql/">PostgreSQL</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/oracle/">Oracle</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ogg/">OGG</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/wsl/">WSL</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">Python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/wal/">WAL</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E9%93%BE%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8/">链接服务器</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E9%9A%8F%E7%AC%94/">随笔</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/awk/">awk</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">发现新版本的内容。</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      更新
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    
      
      <!-- The comments switcher -->

  
  <!-- https://giscus.app/ -->
<script>
  (function () {
    const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed');
    const initTheme = themeMapper[Theme.visualState];

    let lang = 'zh-CN';if (lang.length > 2 && !lang.startsWith('zh')) {
      lang = lang.slice(0, 2);
    }

    let giscusAttributes = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'TheDarkStarJack/blog_discuss',
      'data-repo-id': 'R_kgDOMSSHbQ',
      'data-category': 'Announcements',
      'data-category-id': 'DIC_kwDOMSSHbc4CglpY',
      'data-mapping': 'pathname',
      'data-strict' : '0',
      'data-reactions-enabled': '1',
      'data-emit-metadata': '0',
      'data-theme': initTheme,
      'data-input-position': 'bottom',
      'data-lang': lang,
      'data-loading': 'lazy',
      crossorigin: 'anonymous',
      async: ''
    };

    let giscusNode = document.createElement('script');
    Object.entries(giscusAttributes).forEach(([key, value]) =>
      giscusNode.setAttribute(key, value)
    );

    const $footer = document.querySelector('footer');
    $footer.insertAdjacentElement("beforebegin", giscusNode);

    addEventListener('message', (event) => {
      if (event.source === window && event.data && event.data.id === Theme.ID) {
        const newTheme = themeMapper[Theme.visualState];

        const message = {
          setConfig: {
            theme: newTheme
          }
        };

        const giscus =
          document.getElementsByClassName('giscus-frame')[0].contentWindow;
        giscus.postMessage({ giscus: message }, 'https://giscus.app');
      }
    });
  })();
</script>



    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
      noResultsText: '<p class="mt-5">搜索结果为空</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

